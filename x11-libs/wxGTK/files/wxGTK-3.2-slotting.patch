Index: build/cmake/utils/CMakeLists.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build/cmake/utils/CMakeLists.txt b/build/cmake/utils/CMakeLists.txt
--- a/build/cmake/utils/CMakeLists.txt	(revision 97e99707c5d2271a70cb686720b48dbf34ced496)
+++ b/build/cmake/utils/CMakeLists.txt	(date 1664642801722)
@@ -29,22 +29,6 @@
         RUNTIME DESTINATION "bin"
         BUNDLE DESTINATION "bin"
         )
-
-    if(NOT WIN32_MSVC_NAMING AND wxBUILD_INSTALL)
-        if(IPHONE)
-            set(EXE_SUFFIX ".app")
-        else()
-            set(EXE_SUFFIX ${CMAKE_EXECUTABLE_SUFFIX})
-        endif()
-
-        # Don't use wx_install() here to preserve escaping.
-        install(CODE "execute_process( \
-            COMMAND ${CMAKE_COMMAND} -E create_symlink \
-            \"${CMAKE_INSTALL_PREFIX}/bin/${wxrc_output_name}${EXE_SUFFIX}\" \
-            \"\$ENV{DESTDIR}${CMAKE_INSTALL_PREFIX}/bin/wxrc${EXE_SUFFIX}\" \
-            )"
-        )
-    endif()
 endif()

 # TODO: build targets for other utils
Index: build/cmake/lib/webview/CMakeLists.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build/cmake/lib/webview/CMakeLists.txt b/build/cmake/lib/webview/CMakeLists.txt
--- a/build/cmake/lib/webview/CMakeLists.txt	(revision 97e99707c5d2271a70cb686720b48dbf34ced496)
+++ b/build/cmake/lib/webview/CMakeLists.txt	(date 1664642910711)
@@ -150,7 +150,7 @@
         ${WEBKIT2_LIBRARIES}
         )

-    wx_install(TARGETS wxwebkit2_ext LIBRARY DESTINATION "lib/wx/${WX_WEB_EXT_VERSION}/web-extensions")
+    wx_install(TARGETS wxwebkit2_ext LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}/wx/${WX_WEB_EXT_VERSION}/web-extensions")

     wx_add_dependencies(wxwebview wxwebkit2_ext)
 endif()
Index: build/cmake/config.cmake
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build/cmake/config.cmake b/build/cmake/config.cmake
--- a/build/cmake/config.cmake	(revision 97e99707c5d2271a70cb686720b48dbf34ced496)
+++ b/build/cmake/config.cmake	(date 1664636118249)
@@ -77,7 +77,7 @@
         COMMAND
         "${CMAKE_COMMAND}" -E ${COPY_CMD}
         "${CMAKE_CURRENT_BINARY_DIR}/lib/wx/config/inplace-${TOOLCHAIN_FULLNAME}"
-        "${CMAKE_CURRENT_BINARY_DIR}/wx-config"
+        "${CMAKE_CURRENT_BINARY_DIR}/wx-config-${wxMAJOR_VERSION}.${wxMINOR_VERSION}${EXE_SUFFIX}"
         )
 endfunction()

@@ -85,9 +85,9 @@

     set(prefix ${CMAKE_INSTALL_PREFIX})
     set(exec_prefix "\${prefix}")
-    set(includedir "\${prefix}/include")
-    set(libdir "\${exec_prefix}/lib")
-    set(bindir "\${exec_prefix}/bin")
+    set(includedir "\${prefix}/${CMAKE_INSTALL_INCLUDEDIR}")
+    set(libdir "\${exec_prefix}/${CMAKE_INSTALL_LIBDIR}")
+    set(bindir "\${exec_prefix}/${CMAKE_INSTALL_BINDIR}")

     find_program(EGREP egrep)
     mark_as_advanced(EGREP)
Index: build/cmake/functions.cmake
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build/cmake/functions.cmake b/build/cmake/functions.cmake
--- a/build/cmake/functions.cmake	(revision 97e99707c5d2271a70cb686720b48dbf34ced496)
+++ b/build/cmake/functions.cmake	(date 1664636299286)
@@ -102,9 +102,9 @@
     cmake_parse_arguments(wxCOMMON_TARGET_PROPS "DEFAULT_WARNINGS" "" "" ${ARGN})

     set_target_properties(${target_name} PROPERTIES
-        LIBRARY_OUTPUT_DIRECTORY "${wxOUTPUT_DIR}${GEN_EXPR_DIR}${wxPLATFORM_LIB_DIR}"
-        ARCHIVE_OUTPUT_DIRECTORY "${wxOUTPUT_DIR}${GEN_EXPR_DIR}${wxPLATFORM_LIB_DIR}"
-        RUNTIME_OUTPUT_DIRECTORY "${wxOUTPUT_DIR}${GEN_EXPR_DIR}${wxPLATFORM_LIB_DIR}"
+            LIBRARY_OUTPUT_DIRECTORY "${wxOUTPUT_DIR}${CMAKE_INSTALL_LIBDIR}"
+            ARCHIVE_OUTPUT_DIRECTORY "${wxOUTPUT_DIR}${CMAKE_INSTALL_LIBDIR}"
+            RUNTIME_OUTPUT_DIRECTORY "${wxOUTPUT_DIR}${CMAKE_INSTALL_LIBDIR}"
         )

     if(wxBUILD_PIC)
@@ -435,9 +435,9 @@
         endif()
         wx_install(TARGETS ${name}
             EXPORT wxWidgetsTargets
-            LIBRARY DESTINATION "lib${GEN_EXPR_DIR}${wxPLATFORM_LIB_DIR}"
-            ARCHIVE DESTINATION "lib${GEN_EXPR_DIR}${wxPLATFORM_LIB_DIR}"
-            RUNTIME DESTINATION "${runtime_dir}${GEN_EXPR_DIR}${wxPLATFORM_LIB_DIR}"
+            LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}"
+            ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}"
+            RUNTIME DESTINATION "${CMAKE_INSTALL_LIBDIR}"
             BUNDLE DESTINATION Applications/wxWidgets
             )
         wx_target_enable_precomp(${name} "${wxSOURCE_DIR}/include/wx/wxprec.h")
@@ -560,7 +560,7 @@

     wx_set_common_target_properties(${target_name} DEFAULT_WARNINGS)
     if(NOT wxBUILD_SHARED)
-        wx_install(TARGETS ${name} EXPORT wxWidgetsTargets ARCHIVE DESTINATION "lib${GEN_EXPR_DIR}${wxPLATFORM_LIB_DIR}")
+        wx_install(TARGETS ${name} EXPORT wxWidgetsTargets ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}")
     endif()
 endfunction()

@@ -831,7 +831,7 @@

             list(APPEND cmds COMMAND ${CMAKE_COMMAND}
                 -E copy ${wxSOURCE_DIR}/${SUB_DIR}/${data_src}
-                ${wxOUTPUT_DIR}/${wxPLATFORM_LIB_DIR}/${data_dst})
+                ${wxOUTPUT_DIR}/${CMAKE_INSTALL_LIBDIR}/${data_dst})
         endforeach()
         add_custom_command(
             TARGET ${target_name} ${cmds}
@@ -874,13 +874,13 @@
         FOLDER ${APP_FOLDER}
         )
     set_target_properties(${target_name} PROPERTIES
-        VS_DEBUGGER_WORKING_DIRECTORY "${wxOUTPUT_DIR}/${wxPLATFORM_LIB_DIR}"
+        VS_DEBUGGER_WORKING_DIRECTORY "${wxOUTPUT_DIR}/${CMAKE_INSTALL_LIBDIR}"
         )

     if(group STREQUAL Tests)
         add_test(NAME ${target_name}
             COMMAND ${target_name}
-            WORKING_DIRECTORY "${wxOUTPUT_DIR}/${wxPLATFORM_LIB_DIR}")
+            WORKING_DIRECTORY "${wxOUTPUT_DIR}/${CMAKE_INSTALL_LIBDIR}")
     endif()
 endfunction()

Index: CMakeLists.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/CMakeLists.txt b/CMakeLists.txt
--- a/CMakeLists.txt	(revision 97e99707c5d2271a70cb686720b48dbf34ced496)
+++ b/CMakeLists.txt	(date 1664573418662)
@@ -8,6 +8,7 @@
 #############################################################################

 cmake_minimum_required(VERSION 3.0)
+include(GNUInstallDirs)

 if(NOT CMAKE_CONFIGURATION_TYPES)
     get_property(HAVE_MULTI_CONFIG_GENERATOR GLOBAL PROPERTY GENERATOR_IS_MULTI_CONFIG)
@@ -45,7 +46,7 @@
 # Initialize variables for quick access to wx root dir in sub dirs
 set(wxSOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR})
 set(wxBINARY_DIR ${CMAKE_BINARY_DIR})
-set(wxOUTPUT_DIR ${wxBINARY_DIR}/lib)
+set(wxOUTPUT_DIR ${wxBINARY_DIR}/${CMAKE_INSTALL_LIBDIR})

 # parse the version number from wx/version.h and include in wxMAJOR_VERSION and wxMINOR_VERSION
 file(READ "${wxSOURCE_DIR}/include/wx/version.h" WX_VERSION_H_CONTENTS)
Index: build/cmake/install.cmake
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build/cmake/install.cmake b/build/cmake/install.cmake
--- a/build/cmake/install.cmake	(revision 97e99707c5d2271a70cb686720b48dbf34ced496)
+++ b/build/cmake/install.cmake	(date 1664636649693)
@@ -14,38 +14,32 @@
 install(CODE "message(STATUS \"Installing: Headers...\")")
 install(
     DIRECTORY "${wxSOURCE_DIR}/include/wx"
-    DESTINATION "${wxINSTALL_INCLUDE_DIR}")
+    DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}")
 if(MSVC)
     install(
         DIRECTORY "${wxSOURCE_DIR}/include/msvc"
-        DESTINATION "${wxINSTALL_INCLUDE_DIR}")
+        DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}")
 endif()

 # setup header and wx-config
 if(WIN32_MSVC_NAMING)
     install(
         DIRECTORY "${wxSETUP_HEADER_PATH}"
-        DESTINATION "lib/${wxPLATFORM_LIB_DIR}")
+        DESTINATION "${CMAKE_INSTALL_LIBDIR}")
 else()
     install(
         DIRECTORY "${wxSETUP_HEADER_PATH}"
-        DESTINATION "lib/wx/include")
+        DESTINATION "${CMAKE_INSTALL_LIBDIR}/wx/include")

     install(
         FILES "${wxOUTPUT_DIR}/wx/config/${wxBUILD_FILE_ID}"
-        DESTINATION "lib/wx/config"
+        DESTINATION "${CMAKE_INSTALL_LIBDIR}/wx/config"
         PERMISSIONS OWNER_EXECUTE OWNER_WRITE OWNER_READ
                     GROUP_EXECUTE GROUP_READ
                     WORLD_EXECUTE WORLD_READ
         )

     install(DIRECTORY DESTINATION "bin")
-    install(CODE "execute_process( \
-        COMMAND ${CMAKE_COMMAND} -E create_symlink \
-        \"${CMAKE_INSTALL_PREFIX}/lib/wx/config/${wxBUILD_FILE_ID}\" \
-        \"\$ENV{DESTDIR}${CMAKE_INSTALL_PREFIX}/bin/wx-config\" \
-        )"
-    )
 endif()

 install(EXPORT wxWidgetsTargets NAMESPACE wx:: DESTINATION "lib/cmake/wxWidgets/${wxPLATFORM_LIB_DIR}")
@@ -96,7 +90,6 @@
         endif()

         set(WX_EXTRA_UNINSTALL_FILES
-            "${CMAKE_INSTALL_PREFIX}/bin/wx-config"
             "${CMAKE_INSTALL_PREFIX}/bin/wxrc${EXE_SUFFIX}"
         )
     endif()
